<!DOCTYPE html>
<html ng-app="employeeApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Directory - Legacy AngularJS</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container" ng-controller="MainController">
        <header>
            <h1>Employee Directory</h1>
            <p class="subtitle">Nationwide Insurance - Internal Tool</p>
        </header>

        <div class="controls">
            <div class="search-box">
                <input type="text"
                       ng-model="searchText"
                       placeholder="Search employees..."
                       class="search-input">
            </div>

            <div class="filters">
                <select ng-model="filterDept" ng-change="applyFilters()">
                    <option value="">All Departments</option>
                    <option value="Engineering">Engineering</option>
                    <option value="Sales">Sales</option>
                    <option value="Marketing">Marketing</option>
                    <option value="HR">HR</option>
                    <option value="Finance">Finance</option>
                </select>

                <select ng-model="filterLocation" ng-change="applyFilters()">
                    <option value="">All Locations</option>
                    <option value="Columbus">Columbus</option>
                    <option value="New York">New York</option>
                    <option value="San Francisco">San Francisco</option>
                    <option value="Austin">Austin</option>
                    <option value="Chicago">Chicago</option>
                    <option value="Boston">Boston</option>
                    <option value="Dallas">Dallas</option>
                </select>

                <label class="checkbox-label">
                    <input type="checkbox" ng-model="filterActive" ng-change="applyFilters()">
                    Active Only
                </label>
            </div>

            <div class="sort-controls">
                <label>Sort by:</label>
                <select ng-model="sortField" ng-change="applySorting()">
                    <option value="lastName">Last Name</option>
                    <option value="firstName">First Name</option>
                    <option value="department">Department</option>
                    <option value="hireDate">Hire Date</option>
                    <option value="salary">Salary</option>
                </select>
                <button ng-click="toggleSortOrder()" class="sort-btn">
                    {{sortOrder === 'asc' ? '↑ Ascending' : '↓ Descending'}}
                </button>
            </div>
        </div>

        <div class="stats">
            <span class="stat-item">Total: <strong>{{getTotalCount()}}</strong></span>
            <span class="stat-item">Showing: <strong>{{getFilteredCount()}}</strong></span>
            <span class="stat-item">Selected: <strong>{{getSelectedCount()}}</strong></span>
        </div>

        <div class="employee-list">
            <employee-card ng-repeat="employee in displayedEmployees"
                          employee="employee"
                          on-select="selectEmployee(employee)"
                          is-selected="isSelected(employee)">
            </employee-card>

            <div ng-if="displayedEmployees.length === 0" class="no-results">
                <p>No employees found matching your criteria.</p>
            </div>
        </div>

        <div class="selected-panel" ng-if="selectedEmployees.length > 0">
            <h3>Selected Employees ({{selectedEmployees.length}})</h3>
            <div class="selected-list">
                <span ng-repeat="emp in selectedEmployees" class="selected-tag">
                    {{emp.firstName}} {{emp.lastName}}
                    <button ng-click="deselectEmployee(emp)" class="remove-btn">×</button>
                </span>
            </div>
            <button ng-click="exportSelected()" class="export-btn">Export Selected</button>
            <button ng-click="clearSelection()" class="clear-btn">Clear Selection</button>
        </div>
    </div>

    <!-- AngularJS 1.6.9 - intentionally old version -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/controllers/mainController.js"></script>
    <script src="js/services/employeeService.js"></script>
    <script src="js/services/filterService.js"></script>
    <script src="js/directives/employeeCard.js"></script>
    <script src="js/filters/dateFormat.js"></script>
    <script src="js/filters/currencyFormat.js"></script>
</body>
</html>
